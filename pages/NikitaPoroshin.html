<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nikita</title>
    <link rel="stylesheet" href="../style/style.css" />
    <link rel="stylesheet" href="../style/Poroshin.css" />
  </head>
  <body>
    <div class="card">my card</div>
    <div class="my-card">my card</div>
      Nikita Poroshin

  </body>
  <script>
    window.addEventListener("load", (event) => {
      console.log("page is fully loaded");

      window.fetch('https://imdb8.p.rapidapi.com/auto-complete?q="game of thr"', {
        // body: {q: 'game of thr'},
        headers: {
          'X-RapidAPI-Key': '11fd48b04dmsh6f8289a439bfd01p1e46ffjsn34c83bfc13b5',
          'X-RapidAPI-Host': 'imdb8.p.rapidapi.com'
        },
        method: 'GET'
      })
        .then(resp => resp.json())
        .then((data) => {
          const body = document.querySelector('body')
          data.d.map(film => {
            const card = document.createElement('div')
            card.innerHTML = `
              <div class="card">
                <div class="card__name">${film.l}</div>
                <img src="${film.i.imageUrl}" height="${film.i.height}" width="${film.i.width}" >
              </div>
            `
            body.appendChild(card)
          })
        })
    });
  </script>
</html>
